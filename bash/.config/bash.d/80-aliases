# Search for completions using `complete -p <command>`

alias ssproxy='ssh -D 8080 -C -q -N '
complete -F _ssh sshproxy

alias gitp='env GIT_SSH_COMMAND=sshp git'
complete -F __git_wrap__git_main gitp

# Other ls aliases
alias sl='ls'
alias ll='ls -lh'
alias la='ls -A'
alias l='ls -CF'

alias rcp="rsync --archive --one-file-system --hard-links --human-readable --inplace --numeric-ids --delete --delete-excluded --progress --compress"

alias rsyncp="rsync -e sshp -ah --progress --delete --delete-excluded"

# Default pager and editor
export PAGER='less'
in_path nvim && export EDITOR='nvim' || export EDITOR='vim'

# Use neovim if possible, fallback to X11 vim
if in_path nvim; then
	alias vim='nvim'
	alias view='nvim -R'
	alias vimdiff='nvim -d'
elif in_path vimx; then
	alias vim='vimx'
	alias view='vimx -R'
	alias vimdiff='vimx -d'
fi

# Provide completions for some existing commands
complete -F _ssh sshp

# vim: ft=sh
